function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{$ as h,p,q as u,_,d as m,L as i,e as I,E as l,P as a,w as S}from"./q-B18e1AFI.js";import{s as g}from"./q-qFUyfxK9.js";import{Q as y,S as k,G as L}from"./q-DvwTjl1F.js";import{UserSessionContext as b}from"./q-mzAAKZRE.js";import{a as d}from"./q-Bo0ATomq.js";const w=async()=>{var r;const[e]=h(),{data:n}=await g.auth.getUser();(r=n.user)!=null&&r.id?(e.userId=n.user.id,e.isLoggedIn=!0):(e.userId="",e.isLoggedIn=!1)},E=p(u(()=>_(()=>import("./q-094m6mEc.js"),__vite__mapDeps([])),"s_zrbrqoaqXSY")),P=()=>{const e=m({userId:"",isLoggedIn:!1});return i(u(()=>_(()=>Promise.resolve().then(()=>f),void 0),"s_NDhtK0Iea5Q",[e])),i(u(()=>_(()=>Promise.resolve().then(()=>f),void 0),"s_p29Cnynrk7s",[e])),I(b,e),l(y,{children:[a("head",null,null,[a("meta",null,{charSet:"utf-8"},null,3,null),a("link",null,{href:"/manifest.json",rel:"manifest"},null,3,null),a("link",null,{as:"font",crossOrigin:"anonymous",href:"Mona-Sans.woff2",rel:"preload",type:"font/woff2"},null,3,null),l(E,null,3,"35_0"),l(k,null,3,"35_1")],1,null),a("body",null,{lang:"en"},l(L,null,3,"35_2"),1,null)]},1,"35_3")},v=async()=>{const[e]=h(),{data:n}=await g.auth.onAuthStateChange(async(r,t)=>{if(console.log(r),r==="SIGNED_IN"&&(t!=null&&t.access_token)&&(t!=null&&t.refresh_token)){const o={accessToken:t.access_token,refreshToken:t.refresh_token};await d.post("/api_v1/store-auth",o,{withCredentials:!0}).then(s=>{var c;console.log(s.data),e.userId=(c=t==null?void 0:t.user)==null?void 0:c.id,e.isLoggedIn=!0}).catch(s=>{console.log(s)})}r==="SIGNED_OUT"&&await d.get("/api_v1/logout").then(o=>{console.log(o.data),e.userId="",e.isLoggedIn=!1}).catch(o=>{console.log(o)})});return()=>{n.subscription.unsubscribe()}},f=Object.freeze(Object.defineProperty({__proto__:null,_hW:S,s_3sccYCDd1Z0:P,s_NDhtK0Iea5Q:w,s_p29Cnynrk7s:v},Symbol.toStringTag,{value:"Module"}));export{S as _hW,P as s_3sccYCDd1Z0,w as s_NDhtK0Iea5Q,v as s_p29Cnynrk7s};
