function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{c as m,l as f,L as v,E as o,P as n,a as i,K as c,q as p,_ as b,$ as P,w as k}from"./q-B18e1AFI.js";import{u as w,L}from"./q-DvwTjl1F.js";import{UserSessionContext as y}from"./q-mzAAKZRE.js";import{a as I}from"./q-Bo0ATomq.js";import{s as d}from"./q-qFUyfxK9.js";const x=()=>{const a=m(y),s=f(!1),e=w();return v(p(()=>b(()=>Promise.resolve().then(()=>E),void 0),"s_UEfauscWwKY",[s,e,a])),o(i,{children:n("div",null,null,s.value?o(i,{children:[n("span",null,null,"Redirecting to ",3,null),o(L,{children:n("button",null,{class:"text-sky-500 hover:text-sky-600"},"Dashboard",3,null),href:"/members/dashboard",[c]:{href:c}},3,"Cv_0")]},1,"Cv_1"):o(i,{children:"Please log in"},3,"Cv_2"),1,null)},1,"Cv_3")},C=()=>{const[a,s,e]=P(),_=setTimeout(async()=>{var u;const{data:l,error:h}=await d.auth.getUser(),{data:{session:t}}=await d.auth.getSession();if(t){const g={accessToken:t.access_token,refreshToken:t.refresh_token};await I.post("/api_v1/store-auth",g,{withCredentials:!0}).then(r=>{console.log(r.data),e.userId=t.user.id,e.isLoggedIn=!0}).catch(r=>{console.log(r)})}(u=l.user)!=null&&u.id?(a.value=!0,e.userId=l.user.id,e.isLoggedIn=!0,s("/members/dashboard")):(console.log(h),e.userId="",e.isLoggedIn=!1,s("/login"))},500);return()=>{clearTimeout(_)}},E=Object.freeze(Object.defineProperty({__proto__:null,_hW:k,s_DWH5H0sHpx8:x,s_UEfauscWwKY:C},Symbol.toStringTag,{value:"Module"}));export{k as _hW,x as s_DWH5H0sHpx8,C as s_UEfauscWwKY};
